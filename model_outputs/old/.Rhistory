en_ads_file <- 'C:/Users/conno/Dropbox/ling/vowel_learning_project/Code/vowel_learners/corpus_data/distributions/english_summary_train_ads.csv'
en_ads <- read_csv(en_ads_file)
ggplot(data=en_ads, aes(x=mean_f2, y=mean_f1, label=vowel)) +
scale_x_reverse() +
scale_y_reverse() +
geom_text()
graph <- ggplot()
for (i in 1:nrow(en_ads)) {
cov <- matrix(c(en_ads[i,]$sd_f1^2, 0, 0, en_ads[i,]$sd_f2^2), ncol=2)
#cov <-matrix(as.numeric(ads_covs[i,]), ncol=2) / nrow(ads %>% filter(learned_cats == i - 1))
el <- ellipse(cov, centre=en_ads[i,] %>% select('mean_f1', 'mean_f2') %>% as.matrix)
graph <- graph + geom_point(data=as_tibble(el), aes(x=y, y=x))
}
graph +
geom_label(data=en_ads, aes(x=mean_f2, y=mean_f1, label=vowel))
scale_x_reverse() +
cale_y_reverse()
library(ellipse)
library(tidyverse)
en_ads_file <- 'C:/Users/conno/Dropbox/ling/vowel_learning_project/Code/vowel_learners/corpus_data/distributions/english_summary_train_ads.csv'
en_ads <- read_csv(en_ads_file)
ggplot(data=en_ads, aes(x=mean_f2, y=mean_f1, label=vowel)) +
scale_x_reverse() +
scale_y_reverse() +
geom_text()
graph <- ggplot()
for (i in 1:nrow(en_ads)) {
cov <- matrix(c(en_ads[i,]$sd_f1^2, 0, 0, en_ads[i,]$sd_f2^2), ncol=2)
#cov <-matrix(as.numeric(ads_covs[i,]), ncol=2) / nrow(ads %>% filter(learned_cats == i - 1))
el <- ellipse(cov, centre=en_ads[i,] %>% select('mean_f1', 'mean_f2') %>% as.matrix)
graph <- graph + geom_point(data=as_tibble(el), aes(x=y, y=x))
}
graph +
geom_label(data=en_ads, aes(x=mean_f2, y=mean_f1, label=vowel))
scale_x_reverse() +
scale_y_reverse()
library(ellipse)
library(tidyverse)
en_ads_file <- 'C:/Users/conno/Dropbox/ling/vowel_learning_project/Code/vowel_learners/corpus_data/distributions/english_summary_train_ads.csv'
en_ads <- read_csv(en_ads_file)
ggplot(data=en_ads, aes(x=mean_f2, y=mean_f1, label=vowel)) +
scale_x_reverse() +
scale_y_reverse() +
geom_text()
graph <- ggplot()
for (i in 1:nrow(en_ads)) {
cov <- matrix(c(en_ads[i,]$sd_f1^2, 0, 0, en_ads[i,]$sd_f2^2), ncol=2)
#cov <-matrix(as.numeric(ads_covs[i,]), ncol=2) / nrow(ads %>% filter(learned_cats == i - 1))
el <- ellipse(cov, centre=en_ads[i,] %>% select('mean_f1', 'mean_f2') %>% as.matrix)
graph <- graph + geom_point(data=as_tibble(el), aes(x=y, y=x))
}
graph +
geom_label(data=en_ads, aes(x=mean_f2, y=mean_f1, label=vowel)) +
scale_x_reverse() +
scale_y_reverse()
library(ellipse)
library(tidyverse)
en_ads_file <- 'C:/Users/conno/Dropbox/ling/vowel_learning_project/Code/vowel_learners/corpus_data/distributions/english_summary_train_ads.csv'
en_ads <- read_csv(en_ads_file)
ggplot(data=en_ads, aes(x=mean_f2, y=mean_f1, label=vowel)) +
scale_x_reverse() +
scale_y_reverse() +
geom_text()
graph <- ggplot()
for (i in 1:nrow(en_ads)) {
cov <- matrix(c(en_ads[i,]$sd_f1^2, 0, 0, en_ads[i,]$sd_f2^2), ncol=2)
#cov <-matrix(as.numeric(ads_covs[i,]), ncol=2) / nrow(ads %>% filter(learned_cats == i - 1))
el <- ellipse(cov, centre=en_ads[i,] %>% select('mean_f1', 'mean_f2') %>% as.matrix)
graph <- graph + geom_point(data=as_tibble(el), aes(x=y, y=x, color=i))
}
graph +
geom_label(data=en_ads, aes(x=mean_f2, y=mean_f1, label=vowel)) +
scale_x_reverse() +
scale_y_reverse()
i
library(assertr)
library(tidyverse)
setwd('C:/Users/conno/Dropbox/ling/vowel_learning_project/Code/vowel_learners/')
file <- 'corpus_data/feldman_learner_inputs.csv'
data <- read_csv(file)
sp <- data %>%
filter(language == 'sp')
en <- data %>%
filter(language == 'en')
# Combine speakers
en <- en %>%
mutate(speaker = str_replace(speaker, "\\d\\d$", ""))
# ggplot(data=sp, aes(x=f2, y=f1, color=vowel)) +
#   geom_point(size=3) +
#   facet_grid(~ register) +
#   scale_x_reverse() +
#   scale_y_reverse() +
#   ggtitle("Spanish")
# ggsave('figures/sp_with_outliers.png')
sp_no_outliers <- sp %>%
group_by(speaker) %>%
mutate(z_f1 = scale(f1), z_f2 = scale(f2)) %>%
filter(between(z_f1, -2.5, +2.5) & between(z_f2, -2.5, +2.5))
# ggplot(data=sp_no_outliers, aes(x=f2, y=f1, color=vowel)) +
#   geom_point(size=3) +
#   facet_grid(~ register) +
#   scale_x_reverse() +
#   scale_y_reverse() +
#   ggtitle("Spanish")
# ggsave('figures/sp_no_outliers.png')
sp_ads <- sp_no_outliers %>%
filter(register == 'ads')
# sp_ads %>% group_by(speaker) %>% count()
sp_train_ads <- sp_ads %>%
select(-contains("z_")) %>%
filter(speaker %in% c('HS10', 'HS2', 'HS4'))
# sp_train %>% group_by(vowel) %>% summarize(n=n()) %>% mutate(freq=n/sum(n))
sp_test <- sp_ads %>%
select(-contains("z_")) %>%
filter(speaker %in% c('HS6', 'HS8'))
# sp_test %>% group_by(vowel) %>% summarize(n=n()) %>% mutate(freq=n/sum(n))
write_csv(sp_train_ads, 'corpus_data/spanish_ads_no_outliers_train_ads.csv')
write_csv(sp_test, 'corpus_data/spanish_ads_no_outliers_test.csv')
sp_train_ads
cov(sp_train_ads)
cov(sp_train_ads) %>% select(-c(speaker, vowel))
cov(sp_train_ads) %>% select(-c(speaker, vowel, language_register))
sp_train_ads) %>% select(-c(speaker, vowel, language_register)
sp_train_ads %>% select(-c(speaker, vowel, language_register)
)
sp_train_ads %>% select(-c(speaker, vowel, language, register))
cov(sp_train_ads[,3:10])
mean
mean(sp_train_ads)
mean(sp_train_measurements)
sp_train_measurements <- sp_train_ads[,3:10]
mean(sp_train_measurements)
sp_train_means <- sp_train_measurements %>% summarize(mean)
sp_train_means <- sp_train_measurements %>% summarize(across(:), mean)
sp_train_means <- sp_train_measurements %>% summarize(across(), mean)
sp_train_means <- sp_train_measurements %>% summarize(across(:, mean))
sp_train_means <- sp_train_measurements %>% summarize(across(everything(), mean))
sp_tream_means
sp_train_means
sp_train_cov <- cov(sp_train_measurements)
sp_train_mu <- sp_train_measurements %>% summarize(across(everything(), mean))
sp_train_ads_Summary
sp_train_ads_summary
sp_train_mu <- sp_train_ads %>%
group_by(vowel) %>%
summarize(across(everything(), mean))
sp_train_mu
sp_train_mu <- sp_train_ads %>%
select(-speaker, -language, -register)
sp_train_mu <- sp_train_ads %>%
select(-speaker, -language, -register) +
group_by(vowel) %>%
summarize(across(everything(), mean))
sp_train_mu <- sp_train_ads %>%
select(c(-speaker, -language, -register)) +
group_by(vowel) %>%
summarize(across(everything(), mean))
sp_train_ads
sp_train_mu <- sp_train_ads %>%
select(c(-speaker, -language, -register)) %>%
group_by(vowel) %>%
summarize(across(everything(), mean))
sp_train_mu <- sp_train_ads %>%
ungroup() %>%
select(c(-speaker, -language, -register)) %>%
group_by(vowel) %>%
summarize(across(everything(), mean))
sp_train_mu
sp_train_ads_mu <- sp_train_ads %>%
ungroup() %>%
select(c(-speaker, -language, -register)) %>%
group_by(vowel) %>%
summarize(across(everything(), mean))
sp_train_ads_mu
sp_train_ads
sp_train_ads[vowel == sp_train_ads_mu[i,]$vowel]
sp_train_ads $>$ filter(vowel == sp_train_ads_mu[i,]$vowel])
sp_train_ads %>% filter(vowel == sp_train_ads_mu[i,]$vowel])
sp_train_ads %>% filter(vowel == sp_train_ads_mu[i,]$vowel)
sp_train_ads_mu[i,]
i
i = 1
sp_train_ads_mu[i,]
sp_train_ads %>% filter(vowel == sp_train_ads_mu[i,]$vowel)
vals <- sp_train_ads %>%
filter(vowel == sp_train_ads_mu[i,]$vowel) %>%
select(-c(speaker, vowel, language, register)) %>%
cov
vals <- sp_train_ads %>%
filter(vowel == sp_train_ads_mu[i,]$vowel) %>%
select(-c(speaker, vowel, language, register))
vals <- sp_train_ads %>%
ungroup() %>%
filter(vowel == sp_train_ads_mu[i,]$vowel) %>%
select(-c(speaker, vowel, language, register)) %>%
cov
vals
sp_train_ads_mu <- sp_train_ads %>%
ungroup() %>%
#select(c(-speaker, -language, -register)) %>%
select(f1, f2) %>%
group_by(vowel) %>%
summarize(across(everything(), mean))
sp_train_ads_mu <- sp_train_ads %>%
ungroup() %>%
#select(c(-speaker, -language, -register)) %>%
select(vowel, f1, f2) %>%
group_by(vowel) %>%
summarize(across(everything(), mean))
val
vals <- sp_train_ads %>%
ungroup() %>%
filter(vowel == sp_train_ads_mu[i,]$vowel) %>%
select(vowel, f1, f2) %>%
#select(-c(speaker, vowel, language, register)) %>%
cov
vals <- sp_train_ads %>%
ungroup() %>%
filter(vowel == sp_train_ads_mu[i,]$vowel) %>%
select(f1, f2) %>%
#select(-c(speaker, vowel, language, register)) %>%
cov
cov
i
vals <- sp_train_ads %>%
ungroup() %>%
filter(vowel == sp_train_ads_mu[i,]$vowel) %>%
#select(f1, f2) %>%
select(-c(speaker, vowel, language, register)) %>%
cov
vals
sp_train_ads %>%
ungroup() %>%
filter(vowel == sp_train_ads_mu[i,]$vowel) %>%
select(f1, f2)
vals <- sp_train_ads %>%
ungroup() %>%
filter(vowel == sp_train_ads_mu[i,]$vowel) %>%
select(f1, f2)
vals
cov(vals)
vals <- sp_train_ads %>%
ungroup() %>%
filter(vowel == sp_train_ads_mu[i,]$vowel) %>%
#select(f1, f2) %>%
select(-c(speaker, vowel, language, register)) %>%
cov
vals
matrix(vals)
matrix(vals, ncol=1)
matrix(vals, nrow=1)
vals
c(vals, vals)
c(vals, vals, vals)
c(vals, vals)
c(vals, vals, vals)
vals
matrix(c())
cov_mat <- c(cov_mat, vals)
cov_mat <- c()
cov_mat <- c(cov_mat, vals)
cov_mat
cov_mat[0]
cov_mat[1]
cov_mat <- matrix()
cov_mat <- rbind(cov_mat, vals)
cov_mat <- matrix(, nrow=1, ncol=10)
cov_mat <- rbind(cov_mat, vals)
cov_mat
matrix(vals, vals)
cov_mat <- matrix(, nrow=nrow(sp_train_ads_mu), ncol=10)
cov_mat
cov_mat <- matrix(, nrow=nrow(sp_train_ads_mu) * 10, ncol=10)
for (i in 1:nrow(sp_train_ads_mu)) {
vals <- sp_train_ads %>%
ungroup() %>%
filter(vowel == sp_train_ads_mu[i,]$vowel) %>%
select(-c(speaker, vowel, language, register)) %>%
cov
cov_mat <- rbind(cov_mat, vals)
}
# TODO FIX
cov_mat <- matrix(NA, nrow=nrow(sp_train_ads_mu) * 10, ncol=10)
cov_mat
# TODO FIX
cov_mat <- matrix(NA, nrow=nrow(sp_train_ads_mu), ncol=nrow(sp_train_ads_mu) * 10)
cov_mat
# TODO FIX
cov_mat <- matrix(NA, nrow=nrow(sp_train_ads_mu), ncol=nrow(sp_train_ads_mu) * 10)
for (i in 1:nrow(sp_train_ads_mu)) {
vals <- sp_train_ads %>%
ungroup() %>%
filter(vowel == sp_train_ads_mu[i,]$vowel) %>%
select(-c(speaker, vowel, language, register)) %>%
cov
cov_mat[i, ] <- vals
}
vals
cov_mat
cov_mat[i, ] <- as.matrix(vals, nrow=1)
as.matrix(vals, nrow=1)
as.matrix(vals)
cov
vals
matrix(vals, nrow=1)
# TODO FIX
cov_mat <- matrix(NA, nrow=nrow(sp_train_ads_mu), 100)
# TODO FIX
cov_mat <- matrix(NA, nrow=nrow(sp_train_ads_mu), 100)
for (i in 1:nrow(sp_train_ads_mu)) {
vals <- sp_train_ads %>%
ungroup() %>%
filter(vowel == sp_train_ads_mu[i,]$vowel) %>%
select(-c(speaker, vowel, language, register)) %>%
cov
cov_mat[i, ] <- matrix(vals, nrow=1)
}
cov_mat
labels
as_tibble(cov_mat)
sp_train_ads_mus
sp_train_ads_mu
sp_train_ads_mu <- sp_train_ads %>%
ungroup() %>%
select(c(-speaker, -language, -register)) %>%
group_by(vowel) %>%
summarize(across(everything(), mean))
sp_train_ads_mu
sp_train_ads_cov <- as_tibble(cov_mat)
sp_train_ads_cov
sp_train_ads_cov$vowel <- sp_train_ads_mu$vowel
sp_train_ads_cov$vowel
sp_train_ads
sp_train_mus
sp_train_ads_mus
sp_train_ads_mu
colnames(sp_train_ads_mu)
for (x in colnames(sp_train_ads_mu)) {
for (y in colnames(sp_train_ads_mu)) {
x
}
}
x
str_c(x, y)
str_c(x, '-', y)
for (i in 2:11) {
for (y in 2:11) {
str_c(colnames(sp_train_ads_mu)[i], '-', colnames(sp_train_ads_mu)[j])
}
}
for (i in 2:11) {
for (j in 2:11) {
str_c(colnames(sp_train_ads_mu)[i], '-', colnames(sp_train_ads_mu)[j])
}
}
cov_col_names <- c()
for (i in 2:11) {
for (j in 2:11) {
c(cov_col_names, str_c(colnames(sp_train_ads_mu)[i], '-', colnames(sp_train_ads_mu)[j]))
}
}
cov_col_names
cov_col_names
c(cov_col_names, 1)
cov_col_names <- c()
for (i in 2:11) {
for (j in 2:11) {
cov_col_names <- c(cov_col_names, str_c(colnames(sp_train_ads_mu)[i], '-', colnames(sp_train_ads_mu)[j]))
}
}
cov_col_names
colnames(sp_train_ads_cov) <- cov_col_names
sp-train_ads_covs
sp_train_ads_covs
sp_train_ads_cov
sp_train_ads_cov <- sp_train_ads_cov %>% relocate(vowel)
sp_train_ads_cov
sp_train_ads_cov <- as_tibble(cov_mat)
sp_train_ads_cov$vowel <- sp_train_ads_mu$vowel
sp_train_ads_cov <- sp_train_ads_cov %>% relocate(vowel)
sp_train_ads_cov
cov_col_names <- 'vowel'
for (i in 2:11) {
for (j in 2:11) {
cov_col_names <- c(cov_col_names, str_c(colnames(sp_train_ads_mu)[i], '-', colnames(sp_train_ads_mu)[j]))
}
}
colnames(sp_train_ads_cov) <- cov_col_names
sp_train_ads_cov
write_csv(sp_train_ads_mu, 'corpus_data/spanish_train_ads_mu.csv')
write_csv(sp_train_ads_cov, 'corpus_data/spanish_train_ads_mu.csv')
#setwd('C:/Users/conno/Dropbox/ling/vowel_learning_project/Code/vowel_learners/outputs/spanish_ads_cds/')
#ads_filename <- 'ads_results_f1_f2.csv'
setwd('C:/Users/conno/Dropbox/ling/vowel_learning_project/Code/vowel_learners/corpus_data')
#setwd('C:/Users/conno/Dropbox/ling/vowel_learning_project/Code/vowel_learners/outputs/spanish_ads_cds/')
#ads_filename <- 'ads_results_f1_f2.csv'
setwd('C:/Users/conno/Dropbox/ling/vowel_learning_project/Code/vowel_learners/corpus_data/spanish_ads_cds')
#setwd('C:/Users/conno/Dropbox/ling/vowel_learning_project/Code/vowel_learners/outputs/spanish_ads_cds/')
#ads_filename <- 'ads_results_f1_f2.csv'
setwd('C:/Users/conno/Dropbox/ling/vowel_learning_project/Code/vowel_learners/outputs')
#setwd('C:/Users/conno/Dropbox/ling/vowel_learning_project/Code/vowel_learners/outputs/spanish_ads_cds/')
ads_filename <- 'spanish_ads_f1_f2.csv'
setwd('C:/Users/conno/Dropbox/ling/vowel_learning_project/Code/vowel_learners/outputs')
ads <- read_csv(ads_filename)
read_csv
ads
ads <- read_csv(ads_filename, rownames=FALSE)
ggplot(ads, aes(x=f2, y=f1, color=as.factor(vowel))) +
geom_point(size=3) +
scale_x_reverse() +
scale_y_reverse()
ggplot(ads %>% filter(vowel='i'), aes(x=f2, y=f1, color=as.factor(vowel))) +
geom_point(size=3) +
scale_x_reverse() +
scale_y_reverse()
ggplot(ads %>% filter(vowel=='i'), aes(x=f2, y=f1, color=as.factor(vowel))) +
geom_point(size=3) +
scale_x_reverse() +
scale_y_reverse()
ggplot(ads %>% filter(vowel=='u'), aes(x=f2, y=f1, color=as.factor(vowel))) +
geom_point(size=3) +
scale_x_reverse() +
scale_y_reverse()
vowel
ggplot(ads, aes(x=f2, y=f1, color=as.factor(vowel))) +
geom_point(size=3) +
scale_x_reverse() +
scale_y_reverse()
ggplot(ads, aes(x=f2, y=f1, color=as.factor(learned_cats))) +
geom_point(size=3) +
scale_x_reverse() +
scale_y_reverse()
ads
ggplot(ads, aes(x=f2, y=f1, color=as.factor(learned_cat))) +
geom_point(size=3) +
scale_x_reverse() +
scale_y_reverse()
#setwd('C:/Users/conno/Dropbox/ling/vowel_learning_project/Code/vowel_learners/outputs/spanish_ads_cds/')
ads_filename <- 'spanish_cds_f1_f2.csv'
setwd('C:/Users/conno/Dropbox/ling/vowel_learning_project/Code/vowel_learners/outputs')
ads <- read_csv(ads_filename)
#setwd('C:/Users/conno/Dropbox/ling/vowel_learning_project/Code/vowel_learners/outputs/spanish_ads_cds/')
ads_filename <- 'english_ads_f1_f2.csv'
setwd('C:/Users/conno/Dropbox/ling/vowel_learning_project/Code/vowel_learners/outputs')
ads <- read_csv(ads_filename)
ggplot(ads, aes(x=f2, y=f1, color=as.factor(vowel))) +
geom_point(size=3) +
scale_x_reverse() +
scale_y_reverse()
ggplot(ads, aes(x=f2, y=f1, color=as.factor(learned_cat))) +
geom_point(size=3) +
scale_x_reverse() +
scale_y_reverse()
ggplot(ads, aes(x=f2, y=f1, color=as.factor(vowel))) +
geom_point(size=3) +
scale_x_reverse() +
scale_y_reverse()
ggplot(ads, aes(x=f2, y=f1, color=as.factor(learned_cat))) +
geom_point(size=3, alpha=0.5) +
scale_x_reverse() +
scale_y_reverse()
ggplot(ads, aes(x=f2, y=f1, color=as.factor(learned_cat))) +
geom_point(size=3, alpha=0.2) +
scale_x_reverse() +
scale_y_reverse()
5
ggplot(ads, aes(x=f2, y=f1, color=as.factor(learned_cat))) +
geom_point(size=3, alpha=0.5) +
scale_x_reverse() +
scale_y_reverse()
ggplot(ads, aes(x=f2, y=f1, color=as.factor(vowel))) +
geom_point(size=3) +
scale_x_reverse() +
scale_y_reverse()
ggplot(ads, aes(x=f2, y=f1, color=as.factor(learned_cat))) +
geom_point(size=3, alpha=0.5) +
scale_x_reverse() +
scale_y_reverse()
ggplot(ads, aes(x=f2, y=f1, color=as.factor(vowel))) +
geom_point(size=3) +
scale_x_reverse() +
scale_y_reverse()
ggplot(ads, aes(x=f2, y=f1, color=as.factor(vowel))) +
geom_point(size=3) +
scale_x_reverse() +
scale_y_reverse()
#setwd('C:/Users/conno/Dropbox/ling/vowel_learning_project/Code/vowel_learners/outputs/spanish_ads_cds/')
ads_filename <- 'spanish_ads_f1_f2.csv'
#setwd('C:/Users/conno/Dropbox/ling/vowel_learning_project/Code/vowel_learners/outputs/spanish_ads_cds/')
ads_filename <- 'spanish_ads_f1_f2_duration.csv'
setwd('C:/Users/conno/Dropbox/ling/vowel_learning_project/Code/vowel_learners/outputs')
ads <- read_csv(ads_filename)
ggplot(ads, aes(x=f2, y=f1, color=as.factor(vowel))) +
geom_point(size=3) +
scale_x_reverse() +
scale_y_reverse()
ggplot(ads, aes(x=f2, y=f1, color=as.factor(learned_cat))) +
geom_point(size=3, alpha=0.5) +
scale_x_reverse() +
scale_y_reverse()
#setwd('C:/Users/conno/Dropbox/ling/vowel_learning_project/Code/vowel_learners/outputs/spanish_ads_cds/')
ads_filename <- 'english_ads_f1_f2_duration.csv'
setwd('C:/Users/conno/Dropbox/ling/vowel_learning_project/Code/vowel_learners/outputs')
ads <- read_csv(ads_filename)
ggplot(ads, aes(x=f2, y=f1, color=as.factor(vowel))) +
geom_point(size=3) +
scale_x_reverse() +
scale_y_reverse()
ggplot(ads, aes(x=f2, y=f1, color=as.factor(learned_cat))) +
geom_point(size=3, alpha=0.5) +
scale_x_reverse() +
scale_y_reverse()
